define("tiny_acessibilia/insert",["exports","editor_tiny/uploader"],(function(_exports,_uploader){var obj;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.uploadAndInsert=_exports.default=void 0,_uploader=(obj=_uploader)&&obj.__esModule?obj:{default:obj};const uploadAndInsert=async function(editor,file,alt){let decorative=arguments.length>3&&void 0!==arguments[3]&&arguments[3];editor.setProgressState(!0);try{const url=await(0,_uploader.default)(editor,"image",file,(null==file?void 0:file.name)||"image",(pct=>{console.log("[acessibilia] upload",pct,"%")})),encUrl=editor.dom.encode(url),encAlt=editor.dom.encode(decorative?"":alt||""),html='<img src="'.concat(encUrl,'" alt="').concat(encAlt,'">');editor.insertContent(html)}finally{editor.setProgressState(!1)}};_exports.uploadAndInsert=uploadAndInsert;var _default={uploadAndInsert:uploadAndInsert};return _exports.default=_default,_exports.default}));

//# sourceMappingURL=insert.min.js.map